# 메모이제이션

메모이제이션이란 함수 호출의 결과를 캐싱하고 동일한 입력이 다시 발생할 때 불필요하게 다시 계산하는 대신 캐싱된 결과를 반환하는 기술이다.

React에서는 useCallback, useMemo와 같은 훅을 사용함.

하지만 메모리에 특정한 값을 저장하는 것이기 때문에, 남용하면 오히려 성능을 저하시킬 수 있다.

### 함수형 프로그래밍과 메모이제이션

메모이제이션은 순수 함수의 실행을 최적화하기 위해 함수형 프로그래밍에서 자주 사용됨.

(참고 : [함수형 프로그래밍 이란?](../소프트웨어공학/함수형프로그래밍.md))

함수형 프로그래밍은 동일한 입력에 대해 동일한 출력을 생성하고 side effect가 없는 순수함수의 사용을 강조한다.

그리고 메모이제이션은 함수를 다시 평가하는 대신 캐싱된 결과를 반환하여 함수의 성능을 향상시킨다.

따라서 메모이제이션은 순수 함수 호출을 최적화하고 중복 계산을 줄이며 성능을 향상시키는 방법을 제공함으로써 함수형 프로그래밍 패러다임을 보완하는 기술이다.

### 함수형 프로그래밍 언어에서 메모이제이션 구현하기

```js
function memoize(func) {  
  const cache = {};

  return function(...args) {
    const key = JSON.stringify(args);

    if (cache[key]) {
      console.log("Fetching result from cache...");
      return cache[key];
    }

    console.log("Computing result...");
    const result = func(...args);
    cache[key] = result;
    return result;
  };
}

function sum(a, b) {  
  console.log("Executing sum function...");
  return a + b;
}

const memoizedSum = memoize(sum);

console.log(memoizedSum(2, 3)); // Executing sum function... (result: 5)  
console.log(memoizedSum(2, 3)); // Fetching result from cache... (result: 5)  
console.log(memoizedSum(4, 5)); // Executing sum function... (result: 9)  
console.log(memoizedSum(4, 5)); // Fetching result from cache... (result: 9)  
```

memoize 함수는 함수를 인수로 받아 메모이제이션 로직을 캡슐화하는 클로저 함수를 반환한다.

memoizedSum 함수가 파라미터와 함께 호출되면 클로저 함수는 해당 파라미터에 대해 이미 cache에 저장된 결과가 있는지 확인한다. cache에 저장된 결과가 있다면 함수를 다시 계산하지 않고 저장된 결과를 반환한다. 만약 저장된 결과가 없다면 함수를 실행하고 그 결과를 cache에 저장한다.

### React에서의 메모이제이션 사용

React에서는 memo, useMemo, useCallback 등을 통해 메모이제이션을 사용할 수 있다.


