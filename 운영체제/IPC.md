# IPC(Inter-Process Communication)

프로세스는 독립적으로 실행되는데 프로세스간 통신을 해야하는 상황에 쓰는 것이 IPC 통신이다.

프로세스는 커널이 제공하는 IPC 설비를 이용해 프로세스간 통신을 할 수 있게 된다.

IPC 통신에서 프로세스 간 데이터를 동기화하고 보호하기 위해 세마포어와 뮤텍스를 사용한다.

##### 커널

운영체제의 핵심적인 부분으로, 다른 모든 부분에 여러 기본적인 서비스를 제공

### IPC 종류

##### 1. 익명 PIPE

파이프는 두 개의 프로세스를 연결하는데 하나의 프로세스는 데이터를 쓰기만 하고, 다른 하나는 데이터를 읽기만 할 수 있다. (한쪽 방향으로만 통신이 가능한 반이중 통신)

따라서 양쪽으로 송/수신 하고 싶으면 2개의 파이프를 만들어야 한다.

매우 간단하게 사용할 수 있는 장점이 있고, 단순한 데이터 흐름을 가질 땐 파이프를 사용하는 것이 효율적이다. 하지만 전이중 통신을 위해 2개을 만들어야 할 때는 구현이 복잡해짐

##### 2. Named PIPE (FIFO)

익명 파이프의 확장된 상태로 부모 프로세스와 무관한 다른 프로세스도 통신이 가능한 것 (통신을 위해 이름있는 파일을 사용)

하지만 Named 파이프 역시 읽기/쓰기 동시에 불가능함. 따라서 전이중 통신을 위해 2개를 만들어야 함

##### 3. Message Queue

입출력 방식은 Named 파이프와 동일함

다른점은 메세지 큐는 데이터 흐름이 아니라 메모리 공간이다. 사용할 데이터에 번호를 붙이면서 여러 프로세스가 동시에 데이터를 쉽게 다룰 수 있다.

##### 4. 공유 메모리

공유 메모리는 데이터 자체를 공유하도록 지원하는 설비다.

프로세스간 메모리 영역을 공유해서 사용할 수 있도록 허용해준다.

프로세스가 공유 메모리 할당을 커널에 요청하면, 커널은 해당 프로세스에 메모리 공간을 할당해주고 이후 모든 프로세스는 해당 메모리 영역에 접근할 수 있게 된다.

중개자 없이 곧바로 메모리에 접근할 수 있어서 IPC중 가장 빠르게 동작

##### 5. 메모리 맵

공유 메모리처럼 메모리를 공유해준다. 열린 파일을 메모리에 맵핑시켜서 공유하는 방식 (즉, 공유 매개체가 파일 + 메모리)

주로 파일로 대용량 데이터를 공유해야 할 떄 사용한다.

##### 6. 소켓

네트워크 소켓 통신을 통해 데이터를 공유한다.

클라이언트와 서버가 소켓을 통해서 통신하는 구조로, 원격에서 프로세스 간 데이터를 공유할 떄 사용한다.


