# 저장 프로시저

일련의 쿼리를 마치 하나의 함수처럼 실행하기 위한 쿼리의 집합

프로시저를 만들어두면, 애플리케이션에서 여러 상황에 따라 해당 쿼리문이 필요할 때 인자 값만 전달하여 쉽게 원하는 결과물을 받아낼 수 있다.

##### 장점

1. 최적화, 캐시
   프로시저의 최초 실행 시 최적화 상태로 컴파일 되며, 그 이후 프로시저 캐시에 저장된다.해당 프로세스가 여러번 사용될 때 컴파일을 다시 안함

2. 유지 보수
   작업이 변경될 때, 다른 작업은 건드리지 않고 프로시저 내부에서 수정만 하면 됨

3. 트래픽 감소
   클라이언트가 직접 SQL문을 작성하지 않고, 프로시저명에 매개변수만 담아 전달하면 됨
   SQL문이 서버에 이미 저장되어 있어서 네트워크상 트래픽 감소

4. 보안
   프로시저 내에서 참조 중인 테이블의 접근을 막을 수 있다.

##### 단점

1. 호환성
   구문 규칙이 SQL / PSM (저장 프로시저에 사용하기 위해 절차적 언어로 SQL 확장을 정의) 표준과의 호환성이 낮기 때문에 코드 자산으로 재사용성이 나쁘다

2. 성능
   문자 또는 숫자 연산에서 프로그래밍 언어보다 느리다

3. 디버깅
   에러가 발생했을 때, 어디서 잘못됐는지 디버깅하는 것이 힘들 수 있다.
